---
phase: 45-doc-content
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - website/package.json
  - website/astro.config.mjs
  - website/src/styles/custom.css
  - website/src/content/docs/index.mdx
  - website/src/content/docs/getting-started/installation.md
  - website/src/content/docs/getting-started/quick-start.md
autonomous: true

must_haves:
  truths:
    - "Math formulas in $...$ and $$...$$ render as formatted equations, not raw text"
    - "Landing page displays 4 feature cards (exact arithmetic, prodmake, theta/eta, relation finding)"
    - "Landing page includes a Rogers-Ramanujan REPL demo as a static code block"
    - "Landing page has academic framing — mentions Garvan, partition theory, modular forms"
    - "Installation page has build-from-source command and platform notes"
    - "Quick-start page walks through a first REPL session"
  artifacts:
    - path: "website/astro.config.mjs"
      provides: "KaTeX pipeline via remark-math + rehype-katex"
      contains: "remarkMath"
    - path: "website/src/styles/custom.css"
      provides: "KaTeX stylesheet import and SVG height fix"
      contains: "katex"
    - path: "website/src/content/docs/index.mdx"
      provides: "Landing page with hero, feature cards, demo snippet"
      contains: "CardGrid"
    - path: "website/src/content/docs/getting-started/installation.md"
      provides: "Build from source instructions"
      contains: "g++"
    - path: "website/src/content/docs/getting-started/quick-start.md"
      provides: "First REPL session walkthrough"
      contains: "qseries>"
  key_links:
    - from: "website/astro.config.mjs"
      to: "remark-math/rehype-katex"
      via: "remarkPlugins/rehypePlugins config arrays"
      pattern: "remarkPlugins.*remarkMath"
    - from: "website/src/styles/custom.css"
      to: "katex/dist/katex.min.css"
      via: "CSS @import"
      pattern: "@import.*katex"
    - from: "website/src/content/docs/index.mdx"
      to: "/getting-started/installation/"
      via: "hero action link"
      pattern: "link.*installation"
---

<objective>
Set up KaTeX math rendering for the entire site, then populate the landing page and getting-started pages with real content.

Purpose: KaTeX is the foundation for all math content in manual and tutorial pages. The landing page is the first thing visitors see and must establish the project's academic identity. Getting-started pages let users build and try the tool immediately.

Output: Working KaTeX pipeline, polished landing page with feature cards and demo, two getting-started pages.
</objective>

<execution_context>
@C:/Users/ggarv/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/ggarv/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/44-starlight-scaffold/44-01-SUMMARY.md
@.planning/phases/45-doc-content/45-CONTEXT.md
@.planning/phases/45-doc-content/45-RESEARCH.md
@website/astro.config.mjs
@website/src/styles/custom.css
@website/src/content/docs/index.mdx
@website/package.json
@MANUAL.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install KaTeX dependencies and configure math rendering pipeline</name>
  <files>website/package.json, website/astro.config.mjs, website/src/styles/custom.css</files>
  <action>
  1. Run `cd website && npm install remark-math rehype-katex` to add the math pipeline dependencies.

  2. Update `website/astro.config.mjs`:
     - Add imports at top: `import remarkMath from 'remark-math';` and `import rehypeKatex from 'rehype-katex';`
     - Add a `markdown` config block at the top level of `defineConfig` (sibling to `integrations`):
       ```
       markdown: {
         remarkPlugins: [remarkMath],
         rehypePlugins: [rehypeKatex],
       },
       ```
     - Keep all existing starlight config unchanged.

  3. Update `website/src/styles/custom.css`:
     - Add `@import 'katex/dist/katex.min.css';` at the very top of the file (before the `:root` block).
     - Add the Starlight SVG conflict fix after the existing CSS:
       ```css
       .katex-html svg {
         height: inherit;
       }
       ```
     - Keep all existing CSS variables and theme rules unchanged.

  4. Create a quick test: add a temporary `$$\sum_{n=0}^{\infty} p(n) q^n$$` line to any existing .md placeholder, run `npm run build` in website/, verify no build errors. Remove the test line after.
  </action>
  <verify>Run `cd website && npm run build` — build succeeds with no errors. Check that `katex` appears in `node_modules/`. Check that `astro.config.mjs` contains `remarkMath` and `rehypeKatex`.</verify>
  <done>KaTeX math pipeline is configured: remark-math parses $...$ delimiters, rehype-katex renders them, CSS imports load KaTeX fonts. Build succeeds.</done>
</task>

<task type="auto">
  <name>Task 2: Write landing page with feature cards, demo snippet, and academic framing</name>
  <files>website/src/content/docs/index.mdx</files>
  <action>
  Rewrite `website/src/content/docs/index.mdx` completely. The page uses Starlight's `splash` template (no sidebar).

  **Frontmatter:**
  ```yaml
  ---
  title: qseries
  description: Exact q-series computation for partition theory, modular forms, and combinatorics
  template: splash
  hero:
    title: qseries
    tagline: "Exact q-series arithmetic for partition functions, infinite products, theta functions, and modular relations."
    actions:
      - text: Get Started
        link: /getting-started/installation/
        icon: right-arrow
      - text: View Manual
        link: /manual/q-functions/
        variant: minimal
  ---
  ```
  Note: Remove the "Try Playground" action — playground is Phase 46, not ready yet. Replace with "View Manual" pointing to the manual.

  **Body content — in this exact order:**

  1. **Import statement:** `import { Card, CardGrid } from '@astrojs/starlight/components';`

  2. **Feature cards section** — Use `<CardGrid stagger>` with exactly 4 cards:
     - Card 1: title="Exact Rational Arithmetic", icon="approve-check". Body: "Every coefficient is an exact fraction — never a floating-point approximation. Arbitrary-precision integers ensure results you can trust for proofs and conjectures."
     - Card 2: title="Series → Product Conversion", icon="puzzle". Body: "Andrews' prodmake algorithm converts any q-series into its infinite product form. Identify Rogers-Ramanujan type identities computationally."
     - Card 3: title="Theta & Eta Functions", icon="star". Body: "Built-in theta2, theta3, theta4, etaq, tripleprod, quinprod, and winquist functions for computing with modular forms and partition generating functions."
     - Card 4: title="Relation Discovery", icon="magnifier". Body: "findhom, findnonhom, and findpoly discover polynomial relations among q-series — let the computer find the identities."

  3. **Rogers-Ramanujan demo section** — heading "## A Taste of qseries" followed by prose:
     "The Rogers-Ramanujan identity is one of the most celebrated results in partition theory:"
     Then a KaTeX display math block:
     ```
     $$\sum_{n=0}^{\infty} \frac{q^{n^2}}{(q;q)_n} = \prod_{n=1}^{\infty} \frac{1}{(1-q^{5n-1})(1-q^{5n-4})}$$
     ```
     Then: "Verify it computationally in a single REPL session:"
     Then a fenced code block (language: text) showing:
     ```
     qseries> rr := sum(q^(n^2)/aqprod(q,q,n,50), n, 0, 8)
     1 + q + q^2 + q^3 + 2*q^4 + 2*q^5 + 3*q^6 + ... + O(q^50)

     qseries> prodmake(rr, 40)
     (1-q)^(-1) * (1-q^4)^(-1) * (1-q^6)^(-1) * (1-q^9)^(-1) * ...
     ```
     Then: "The denominators appear only at exponents ≡ ±1 (mod 5) — the identity is confirmed."

  4. **Academic attribution section** — heading "## Background" followed by:
     "qseries reimplements core functionality from Frank Garvan's [qseries Maple package](https://qseries.org/fgarvan/qmaple/qseries/index.html) as a standalone, zero-dependency C++ binary. It is designed for researchers in partition theory, the theory of modular forms, and combinatorics."
     Then a brief paragraph: "The package provides tools for the three fundamental computational problems in q-series research: converting series to infinite products, identifying eta and Jacobi product representations, and discovering polynomial relations among q-series."

  5. **Getting started callout** — "## Get Started" with text: "qseries is free and open-source. Build from source with a single command — no dependencies required." Link: "[Installation guide →](/getting-started/installation/)"

  Keep the academic/research tone throughout. No startup/commercial language. No emojis.
  </action>
  <verify>Run `cd website && npm run build` — build succeeds. Visually inspect by running `npm run dev` and opening the landing page in a browser — cards render, math formula displays, demo code block is readable.</verify>
  <done>Landing page has hero with "Get Started" + "View Manual" actions, 4 feature cards in a CardGrid, Rogers-Ramanujan KaTeX formula + REPL demo, academic attribution mentioning Garvan, and a link to the installation page.</done>
</task>

<task type="auto">
  <name>Task 3: Write installation and quick-start pages</name>
  <files>website/src/content/docs/getting-started/installation.md, website/src/content/docs/getting-started/quick-start.md</files>
  <action>
  **installation.md** — Replace placeholder with full content:

  Frontmatter: title "Installation", description "Build qseries from source".

  Content sections:
  1. **Prerequisites** — A C++20-capable compiler (GCC 10+, Clang 13+, or MSVC 2022). No external libraries or package managers needed.

  2. **Build from source** — Show the one-liner:
     ```bash
     g++ -std=c++20 -O2 -static -o qseries main.cpp
     ```
     Explain: this produces a single static binary. No Makefile required for basic builds, but `make` is available for convenience.

  3. **Platform notes** — Brief subsections:
     - **Linux/macOS**: `g++` or `clang++` with `-std=c++20`. The `-static` flag is optional on macOS (static libc++ not always available); omit it if linking fails.
     - **Windows (Cygwin)**: Install `g++` via Cygwin setup. Build as above. The binary runs in the Cygwin terminal.
     - **Windows (MSYS2/MinGW)**: `g++ -std=c++20 -O2 -static -o qseries.exe main.cpp`

  4. **Verify installation** — Show:
     ```bash
     ./qseries --version
     # Output: qseries 2.0

     ./qseries --test
     # Runs internal test suite
     ```

  5. **Running** — `./qseries` for interactive mode, `./qseries < script.qs` for script mode.

  ---

  **quick-start.md** — Replace placeholder with full content:

  Frontmatter: title "Quick Start", description "Your first qseries session".

  Content sections:
  1. **Starting the REPL** — Launch with `./qseries`. Show the banner and prompt.

  2. **Basic arithmetic** — Show q as a power series variable:
     ```
     qseries> q
     q + O(q^50)

     qseries> 1 + q + q^2
     1 + q + q^2 + O(q^50)
     ```

  3. **Partition function** — Compute 1/etaq(1):
     ```
     qseries> p := 1/etaq(1)
     1 + q + 2*q^2 + 3*q^3 + 5*q^4 + 7*q^5 + 11*q^6 + ...
     ```
     Explain: each coefficient is p(n), the number of partitions of n.

  4. **Rogers-Ramanujan** — Compute and identify:
     ```
     qseries> rr := sum(q^(n^2)/aqprod(q,q,n,50), n, 0, 8)
     qseries> prodmake(rr, 40)
     ```
     Brief explanation of the output.

  5. **Getting help** — Show `help` and `help(prodmake)`.

  6. **Default truncation** — Explain `set_trunc(N)` and its effect.

  7. **Next steps** — Links to the [Reference Manual](/manual/q-functions/) and [Tutorials](/tutorial/).

  IMPORTANT: For REPL examples, show realistic output that matches our binary's actual formatting. Use `*` for multiplication, `^` for powers, `O(q^N)` for truncation. Do NOT copy Maple syntax from qseriesdoc.md.
  </action>
  <verify>Run `cd website && npm run build` — build succeeds. Check both pages render in `npm run dev`. Verify all internal links resolve (no 404s for /manual/q-functions/ or /tutorial/).</verify>
  <done>Installation page has build command, platform notes, and verification steps. Quick-start page walks through a first REPL session with partition function, Rogers-Ramanujan, and help system.</done>
</task>

</tasks>

<verification>
1. `cd website && npm run build` completes without errors
2. Landing page at `/` shows hero, 4 feature cards, KaTeX-rendered Rogers-Ramanujan formula, and REPL demo
3. Installation page at `/getting-started/installation/` has build command and platform notes
4. Quick-start page at `/getting-started/quick-start/` has REPL examples
5. Math formulas render as formatted equations (not raw `$` text) on any page using them
6. All internal links resolve — no broken navigation
</verification>

<success_criteria>
- KaTeX math pipeline works: `$...$` renders inline, `$$...$$` renders block math
- Landing page is academic in tone, has 4 feature cards, Rogers-Ramanujan demo, and Garvan attribution
- Installation page covers Linux, macOS, Windows/Cygwin builds
- Quick-start page has 4+ REPL examples showing core features
- `npm run build` succeeds
</success_criteria>

<output>
After completion, create `.planning/phases/45-doc-content/45-01-SUMMARY.md`
</output>
