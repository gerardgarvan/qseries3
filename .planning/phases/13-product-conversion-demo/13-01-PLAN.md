---
phase: 13-product-conversion-demo
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - demo/garvan-demo.sh
autonomous: true

must_haves:
  truths:
    - "qfactor T(8,8) produces expected factorization in demo"
    - "etamake on theta2, theta3, theta4 identifies eta products in demo"
    - "jacprodmake on Rogers-Ramanujan yields Jacobi product form (JAC/jac2prod) in demo"
  artifacts:
    - path: demo/garvan-demo.sh
      provides: Product conversion run blocks (§3.2, §3.3, §3.4)
      contains: "qfactor(t8", "etamake(theta2", "etamake(theta3", "etamake(theta4", "jacprodmake(rr"
  key_links:
    - from: demo/garvan-demo.sh
      to: qseries binary
      via: run() pipe
      pattern: "run.*qfactor|run.*etamake|run.*jacprodmake"
---

<objective>
Replace the Product conversion placeholder in garvan-demo.sh with three run blocks that reproduce qseriesdoc §3.2, §3.3, §3.4: qfactor T(8,8), etamake on theta2/theta3/theta4, and jacprodmake on Rogers-Ramanujan.

Purpose: DEMO-03 — product conversion examples match qseriesdoc
Output: demo/garvan-demo.sh with three run blocks; dist copy updated via make dist-demo
</objective>

<execution_context>
@C:/Users/ggarv/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/ggarv/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/ROADMAP.md
@.planning/phases/13-product-conversion-demo/13-RESEARCH.md
@demo/garvan-demo.sh
</context>

<tasks>

<task type="auto">
  <name>Task 1: Replace Product conversion placeholder with three run blocks</name>
  <files>demo/garvan-demo.sh</files>
  <action>
Replace the placeholder:
  # === Product conversion: qfactor, etamake, jacprodmake (qseriesdoc §3.2–3.4) ===
  # (Phases 12–15 append content here)

With the three run blocks from 13-RESEARCH.md (Option A / exact snippet lines 145–162):

1) **§3.2 qfactor T(8,8):**
   echo "" and echo "--- qfactor T(8,8) (qseriesdoc §3.2) ---"
   run "set_trunc(64)" "t8 := T(8,8)" "qfactor(t8, 20)"

2) **§3.3 etamake theta2, theta3, theta4:**
   echo "" and echo "--- etamake on theta functions (qseriesdoc §3.3) ---"
   run "set_trunc(100)" "etamake(theta2(100), 100)" "etamake(theta3(100), 100)" "etamake(theta4(100), 100)"

3) **§3.4 jacprodmake Rogers-Ramanujan:**
   echo "" and echo "--- jacprodmake Rogers-Ramanujan (qseriesdoc §3.4) ---"
   run "rr := sum(q^(n^2)/aqprod(q,q,n,50), n, 0, 8)" "jp := jacprodmake(rr, 40)" "jac2prod(jp)"

CRITICAL: Use theta2(100) — do NOT add /q^(1/4); our theta2 already returns θ₂/q^{1/4} with integer exponents per research.
  </action>
  <verify>cd dist && make dist-demo && ./demo/garvan-demo.sh — Product conversion section must show: (1) qfactor output with (1-q^n) factors, (2) etamake outputs with η(τ) notation for theta2/3/4, (3) jac2prod output for Rogers-Ramanujan.</verify>
  <done>Demo runs all three product conversion blocks; outputs match qseriesdoc §3.2, §3.3, §3.4.</done>
</task>

</tasks>

<verification>
- make demo runs without error
- qfactor T(8,8) shows factorization (qseriesdoc Output 5 style)
- etamake(theta2), etamake(theta3), etamake(theta4) show eta product form
- jacprodmake + jac2prod show Jacobi product form for Rogers-Ramanujan
</verification>

<success_criteria>
1. qfactor T(8,8) produces expected factorization in demo
2. etamake on theta2, theta3, theta4 identifies eta products
3. jacprodmake on Rogers-Ramanujan yields Jacobi product form (JAC notation / jac2prod)
</success_criteria>

<output>
After completion, create `.planning/phases/13-product-conversion-demo/13-01-SUMMARY.md`
</output>
