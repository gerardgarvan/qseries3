---
phase: 01-bigint
plan: 03
type: execute
wave: 3
depends_on: [01-02]
files_modified: [src/main.cpp]
autonomous: true

must_haves:
  truths:
    - "SPEC edge cases pass: 0*anything, (-a)*(-b), division cases, negatives"
    - "Phase 1 acceptance: BigInt ready for Frac layer"
  artifacts:
    - path: src/main.cpp
      provides: BigInt test driver for Phase 1
      contains: "BigInt"
  key_links:
    - from: "main.cpp"
      to: "bigint.h"
      via: "#include"
      pattern: "#include.*bigint"
---

<objective>
Create src/main.cpp as the Phase 1 test driver. Exercise all SPEC and .cursorrules BigInt edge cases. Build produces runnable binary.
</objective>

Purpose: Validate BigInt before Phase 2 (Frac). Per CONTEXT: edge case scope is spec-driven only. Validation approach (standalone vs integration): Claude's discretion — a single main.cpp driver is sufficient.
Output: src/main.cpp that runs BigInt tests and exits 0 on success.

<execution_context>
@C:/Users/ggarv/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/ggarv/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-bigint/01-CONTEXT.md
@SPEC.md
@.cursorrules
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create main.cpp test driver</name>
  <files>src/main.cpp</files>
  <action>
Create src/main.cpp (create src/ if missing) that:

1. **Include**: #include "bigint.h"

2. **int main()**: Run tests for SPEC/.cursorrules edge cases. Use assertions or explicit checks; exit 0 if all pass, non-zero otherwise.

3. **Edge cases to test** (per SPEC, .cursorrules, CONTEXT):
   - 0 * anything = 0
   - (-a) * (-b) = a*b
   - Division: 1000000000/1, 999999999/1000000000, 123456789012345/123
   - Negatives: (-7)/3, 7/(-3), remainder sign = dividend sign
   - GCD: gcd(48,18)==6, gcd(0,x)=|x|, gcd with negatives
   - Division by zero: must throw (catch and verify)
   - Invalid string: BigInt("abc") or BigInt("12x3") must throw

4. **Structure**: Simple sequential tests. Print "PASS" or "FAIL" for each group (or each test). No external test framework — raw C++.

5. **Build**: Must compile with g++ -std=c++20 -O2 -Wall -Wextra per Makefile.
</action>
  <verify>make (or g++ -std=c++20 -O2 -o qseries src/main.cpp); ./qseries; echo $? should be 0</verify>
  <done>All SPEC edge cases pass; binary runs and exits 0</done>
</task>

</tasks>

<verification>
- make builds successfully (or equivalent g++ command)
- ./qseries exits with code 0
- All listed edge cases are exercised
</verification>

<success_criteria>
- Phase 1 success criteria met: BigInt supports +,-,*,divmod; binary-search quotient; GCD; edge cases handled
- Ready for Phase 2 (Frac) — BigInt is validated
</success_criteria>

<output>
After completion, create `.planning/phases/01-bigint/01-03-SUMMARY.md`
</output>
