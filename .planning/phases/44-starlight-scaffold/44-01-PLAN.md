---
phase: 44-starlight-scaffold
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - website/package.json
  - website/tsconfig.json
  - website/astro.config.mjs
  - website/src/content.config.ts
  - website/src/styles/custom.css
  - website/public/favicon.svg
  - website/.gitignore
  - website/src/content/docs/index.mdx
  - website/src/content/docs/getting-started/installation.md
  - website/src/content/docs/getting-started/quick-start.md
  - website/src/content/docs/manual/bigint-frac.md
  - website/src/content/docs/manual/series-ops.md
  - website/src/content/docs/manual/q-functions.md
  - website/src/content/docs/manual/product-conversion.md
  - website/src/content/docs/manual/relations.md
  - website/src/content/docs/manual/sifting.md
  - website/src/content/docs/manual/repl-commands.md
  - website/src/content/docs/tutorial/index.md
  - website/src/content/docs/tutorial/rogers-ramanujan.md
  - website/src/content/docs/tutorial/theta-functions.md
  - website/src/content/docs/tutorial/partition-identities.md
  - website/src/content/docs/tutorial/modular-equations.md
  - website/src/content/docs/playground.md
autonomous: true

must_haves:
  truths:
    - "npm run dev in website/ serves a Starlight site with sidebar navigation, dark mode toggle, and responsive layout"
    - "Placeholder pages exist for every documentation section: getting-started (2), manual (7), tutorial (5), playground (1)"
    - "Pagefind full-text search is integrated (built-in, functional after npm run build)"
    - "npm run build produces static HTML output in website/dist/"
    - "Landing page has hero section conveying what qseries does, that it is free/open, with links to docs and playground"
  artifacts:
    - path: "website/astro.config.mjs"
      provides: "Starlight integration config with manual sidebar, social links, custom CSS"
      contains: "starlight"
    - path: "website/src/styles/custom.css"
      provides: "Accent color scheme and monospace font emphasis"
      contains: "--sl-color-accent"
    - path: "website/src/content.config.ts"
      provides: "Content collection schema for Starlight docs"
      contains: "docsLoader"
    - path: "website/src/content/docs/index.mdx"
      provides: "Landing page with hero section"
      contains: "template: splash"
    - path: "website/src/content/docs/playground.md"
      provides: "Playground placeholder page"
      contains: "Phase 46"
  key_links:
    - from: "website/astro.config.mjs sidebar slugs"
      to: "website/src/content/docs/**/*.md"
      via: "slug-to-file path mapping"
      pattern: "slug:.*getting-started|manual|tutorial|playground"
    - from: "website/astro.config.mjs customCss"
      to: "website/src/styles/custom.css"
      via: "customCss array entry"
      pattern: "customCss.*custom\\.css"
    - from: "website/src/content.config.ts"
      to: "@astrojs/starlight"
      via: "docsLoader and docsSchema imports"
      pattern: "docsLoader|docsSchema"
---

<objective>
Scaffold a complete Astro Starlight documentation site in `website/` with sidebar navigation, dark mode, responsive layout, Pagefind search, and placeholder pages for all documentation sections.

Purpose: Create the documentation site skeleton that Phase 45 (content) and Phase 46 (playground) will build upon.
Output: A buildable Starlight site with landing page, 15 placeholder content pages, custom theming, and working navigation.
</objective>

<execution_context>
@C:/Users/ggarv/.claude/get-shit-done/workflows/execute-plan.md
@C:/Users/ggarv/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/44-starlight-scaffold/44-RESEARCH.md
@.planning/phases/44-starlight-scaffold/44-CONTEXT.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Initialize Astro Starlight project and configure</name>
  <files>
    website/package.json
    website/tsconfig.json
    website/astro.config.mjs
    website/src/content.config.ts
    website/src/styles/custom.css
    website/public/favicon.svg
    website/.gitignore
  </files>
  <action>
Create the `website/` directory and initialize the Astro Starlight project manually (no interactive scaffold — create files directly for deterministic execution).

**website/package.json:**
```json
{
  "name": "qseries-website",
  "type": "module",
  "version": "0.0.1",
  "scripts": {
    "dev": "astro dev",
    "build": "astro build",
    "preview": "astro preview",
    "astro": "astro"
  },
  "dependencies": {
    "astro": "^5.0.0",
    "@astrojs/starlight": "^0.37.0"
  }
}
```

Run `npm install` in `website/`.

**website/tsconfig.json:**
```json
{
  "extends": "astro/tsconfigs/strict"
}
```

**website/.gitignore:**
```
node_modules/
dist/
.astro/
```

**website/astro.config.mjs** — configure Starlight with:
- `title: 'qseries'`
- `description`: tagline about exact q-series computation for partition theory, modular forms, and combinatorics
- `social`: array format with GitHub link `{ icon: 'github', label: 'GitHub', href: 'https://github.com/GarvanResearchGroup/qseries' }`
- `customCss: ['./src/styles/custom.css']`
- Manual `sidebar` with 4 labeled groups:
  1. **Getting Started**: `getting-started/installation`, `getting-started/quick-start`
  2. **Reference Manual**: `manual/bigint-frac`, `manual/series-ops`, `manual/q-functions`, `manual/product-conversion`, `manual/relations`, `manual/sifting`, `manual/repl-commands`
  3. **Tutorial**: `tutorial` (index), `tutorial/rogers-ramanujan`, `tutorial/theta-functions`, `tutorial/partition-identities`, `tutorial/modular-equations`
  4. **Playground**: `playground`

Use the `{ slug: '...' }` shorthand format (Starlight 0.28+) — titles come from page frontmatter.

**website/src/content.config.ts:**
```typescript
import { defineCollection } from 'astro:content';
import { docsLoader } from '@astrojs/starlight/loaders';
import { docsSchema } from '@astrojs/starlight/schema';

export const collections = {
  docs: defineCollection({ loader: docsLoader(), schema: docsSchema() }),
};
```

**website/src/styles/custom.css** — custom theming for math/dev-tool aesthetic:
- Override `--sl-color-accent-low`, `--sl-color-accent`, `--sl-color-accent-high` with a teal/cyan palette (hue ~190)
- Set `--sl-font-mono` to a monospace stack: `ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, 'Liberation Mono', monospace`
- Add dark-mode `color-scheme: dark` hint on `:root` to make browsers default to dark

**website/public/favicon.svg** — a simple SVG favicon: a stylized "q" letter or a summation symbol (Σ) in a clean geometric style, teal accent color matching the site theme. Keep it minimal (under 20 lines of SVG).

Do NOT use `autogenerate` for sidebar — must be manual config per RESEARCH.md anti-patterns.
Do NOT add Tailwind — Starlight CSS custom properties are sufficient.
  </action>
  <verify>
Run `npm run dev` in `website/` (it will fail with missing content pages — that is expected). Verify the command starts the Astro dev server without config errors. Kill the process after confirming startup. If it fails on missing content, that is acceptable — Task 2 creates the pages.
  </verify>
  <done>
website/package.json exists with astro and @astrojs/starlight deps installed, astro.config.mjs has manual sidebar with 4 groups and 16 slug entries, custom.css has teal accent colors and monospace font, content.config.ts has docsLoader/docsSchema, favicon.svg exists.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create placeholder content pages and verify build</name>
  <files>
    website/src/content/docs/index.mdx
    website/src/content/docs/getting-started/installation.md
    website/src/content/docs/getting-started/quick-start.md
    website/src/content/docs/manual/bigint-frac.md
    website/src/content/docs/manual/series-ops.md
    website/src/content/docs/manual/q-functions.md
    website/src/content/docs/manual/product-conversion.md
    website/src/content/docs/manual/relations.md
    website/src/content/docs/manual/sifting.md
    website/src/content/docs/manual/repl-commands.md
    website/src/content/docs/tutorial/index.md
    website/src/content/docs/tutorial/rogers-ramanujan.md
    website/src/content/docs/tutorial/theta-functions.md
    website/src/content/docs/tutorial/partition-identities.md
    website/src/content/docs/tutorial/modular-equations.md
    website/src/content/docs/playground.md
  </files>
  <action>
Create all content pages. Each placeholder page has YAML frontmatter with `title` and `description`, a heading, and a brief placeholder note. Use `.mdx` for landing page, `.md` for all others.

**Landing page (`index.mdx`):**
```yaml
---
title: qseries
description: Exact q-series computation for partition theory, modular forms, and combinatorics
template: splash
hero:
  title: qseries
  tagline: "Exact q-series arithmetic — partition functions, infinite products, theta functions, and modular relations. Free, open-source, runs in your browser."
  actions:
    - text: Get Started
      link: /getting-started/installation/
      icon: right-arrow
    - text: Try Playground
      link: /playground/
      variant: minimal
      icon: external
---
```
Below the frontmatter, add a brief features section with 3-4 highlights (exact rational arithmetic, Andrews' prodmake algorithm, theta/eta functions, relation finding). Use Markdown — no Astro components.

**Getting Started pages:**
- `installation.md` — title "Installation", description about downloading and building qseries
- `quick-start.md` — title "Quick Start", description about first computations

**Manual pages (7):**
- `bigint-frac.md` — "Integers & Fractions" — BigInt and exact rational arithmetic
- `series-ops.md` — "Series Operations" — truncated power series arithmetic
- `q-functions.md` — "q-Functions" — aqprod, etaq, theta, jacobi products
- `product-conversion.md` — "Product Conversion" — prodmake, etamake, jacprodmake, qfactor
- `relations.md` — "Relation Finding" — findhom, findnonhom, findpoly
- `sifting.md` — "Sifting & Extraction" — sift, pickpart, terms, series
- `repl-commands.md` — "REPL Commands" — set_trunc, coeffs, help, variable assignment

**Tutorial pages (5):**
- `index.md` — "Tutorial Overview" — overview linking to individual tutorials
- `rogers-ramanujan.md` — "Rogers-Ramanujan Identities"
- `theta-functions.md` — "Theta Functions & Modular Forms"
- `partition-identities.md` — "Partition Identities"
- `modular-equations.md` — "Modular Equations"

**Playground page:**
- `playground.md` — title "Playground", description "Try qseries in your browser". Body: "The interactive playground is coming in a future update. It will feature a browser-based REPL powered by WebAssembly where you can run q-series computations directly." Note that this is a Phase 46 deliverable.

**Placeholder body template** (for all non-landing, non-playground pages):
```markdown
Content for this section is being prepared. Check back soon.
```

After creating all pages, run:
1. `npm run build` in `website/` — must succeed, producing `website/dist/` with HTML
2. `npm run dev` in `website/` — verify sidebar shows all 4 groups with correct page titles, dark mode toggle works, layout is responsive. Kill after confirming.
  </action>
  <verify>
1. `npm run build` in website/ completes without errors
2. `ls website/dist/` shows generated HTML files
3. `npm run dev` serves the site — sidebar has Getting Started, Reference Manual, Tutorial, Playground groups; clicking each link resolves to a page (no 404s); dark mode toggle present in header
  </verify>
  <done>
16 placeholder content pages exist matching all sidebar slugs. Landing page has hero with title, tagline, and action buttons. npm run build produces website/dist/ with static HTML. Dev server shows working sidebar navigation with all sections. Pagefind search bar visible in header (search results only work after build).
  </done>
</task>

</tasks>

<verification>
1. `npm run build` in `website/` succeeds without errors
2. `website/dist/` contains generated HTML files for all pages
3. `npm run dev` serves the site with:
   - Sidebar navigation with 4 groups (Getting Started, Reference Manual, Tutorial, Playground)
   - Dark mode toggle in header
   - Responsive layout (sidebar collapses on narrow viewports)
   - Search bar in header (Pagefind — functional after build only)
4. All sidebar links resolve to pages (no broken links / 404s)
5. Landing page shows hero section with title, tagline, and action buttons
6. Playground page indicates "coming in a future update"
</verification>

<success_criteria>
- `npm run dev` in `website/` serves a Starlight site with sidebar navigation, dark mode toggle, and responsive layout
- Placeholder pages exist for each documentation section (getting-started, manual, tutorial, playground) — 16 pages total
- Pagefind search is integrated and functional (Starlight built-in, works after build)
- `npm run build` produces static output in `website/dist/`
</success_criteria>

<output>
After completion, create `.planning/phases/44-starlight-scaffold/44-01-SUMMARY.md`
</output>
