---
phase: 23-quick-wins
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/repl.h
  - src/main.cpp
  - Makefile
  - tests/acceptance-wins.sh
autonomous: true

must_haves:
  truths:
    - "qseries --version prints qseries 1.3"
    - "version in REPL prints qseries 1.3"
    - "qdegree(f) returns highest exponent with nonzero coefficient"
    - "lqdegree(f) returns lowest exponent with nonzero coefficient"
    - "jac2series(var) and jac2series(var,T) convert Jacobi product to series"
    - "findlincombo(f,L,topshift) expresses f as linear combination of L"
    - "make builds with g++ by default; CXX override works"
  artifacts:
    - path: src/repl.h
      provides: "version, qdegree, lqdegree, jac2series, findlincombo built-ins; help table entries"
    - path: src/main.cpp
      provides: "--version flag handling"
    - path: Makefile
      provides: "CXX ?= g++ default; comment for MinGW override"
    - path: tests/acceptance-wins.sh
      provides: "Verification script for quick wins"
  key_links:
    - from: repl.h
      to: getHelpTable
      via: "version, qdegree, lqdegree, jac2series, findlincombo entries"
    - from: main.cpp
      to: argv
      via: "--version check before --test"
      pattern: "argv\[1\].*--version"
---

<objective>
Verify and document the quick wins already implemented: version (flag + built-in), qdegree, lqdegree, jac2series, findlincombo, and Makefile CXX default. Add acceptance test script tests/acceptance-wins.sh.

Purpose: Formalize Phase 23 completion; ensure all quick wins are verified.
Output: tests/acceptance-wins.sh; PLAN summary confirming implementation.
</objective>

<execution_context>
@C:/Users/ggarv/.claude/get-shit-done/workflows/execute-plan.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/research/FEATURE-GAPS.md
@.planning/phases/23-quick-wins/23-CONTEXT.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add tests/acceptance-wins.sh</name>
  <files>tests/acceptance-wins.sh</files>
  <action>
Create tests/acceptance-wins.sh that verifies:
1. ./dist/qseries.exe --version outputs "qseries 1.3"
2. echo "version" | ./dist/qseries.exe outputs "qseries 1.3"
3. echo "qdegree(etaq(1,50))" | ./dist/qseries.exe — expect 49 (or similar for etaq)
4. echo "lqdegree(etaq(1,50))" | ./dist/qseries.exe — expect 0
5. Script: rr := sum(...); jp := jacprodmake(rr,40); jac2series(jp,50) — no error
6. findlincombo(etaq(1,50),[theta3(q,50),theta4(q,50)],0) — runs without error (may show solution or "no solution")
7. make succeeds with default CXX

Use BIN=./dist/qseries.exe (or ./qseries) and run each command, grepping for expected output or exit 0. Script must be runnable from project root.
  </action>
  <verify>bash tests/acceptance-wins.sh exits 0</verify>
  <done>acceptance-wins.sh exists and passes</done>
</task>

<task type="auto">
  <name>Task 2: Add Makefile target for acceptance-wins (optional)</name>
  <files>Makefile</files>
  <action>
Add "acceptance-wins" target to Makefile that runs tests/acceptance-wins.sh, similar to acceptance/acceptance-qol targets. Document in .PHONY if present.
  </action>
  <verify>make acceptance-wins exits 0</verify>
  <done>make acceptance-wins runs quick-wins verification</done>
</task>

<task type="auto">
  <name>Task 3: Update MANUAL.md with new built-ins</name>
  <files>MANUAL.md</files>
  <action>
Add version, qdegree, lqdegree, jac2series, findlincombo to MANUAL.md section 3 (Built-in Functions) in the appropriate category. Add --version to section 1 (Running).
  </action>
  <verify>MANUAL.md documents all five new built-ins and --version</verify>
  <done>MANUAL.md up to date</done>
</task>

</tasks>
